{{!-- Edit Assignment Template --}}
<div class="school-transport-assignment-edit">
    {{!-- Page Header --}}
    <div class="page-header">
        <div class="flex items-center justify-between mb-6">
            <div>
                <h1 class="text-2xl font-bold text-gray-900">Edit Bus Assignment</h1>
                <p class="text-gray-600 mt-1">Update student bus assignment details</p>
            </div>
            <LinkTo @route="school-transport.assignments.view" @model={{this.assignment.id}} class="btn btn-outline">
                <FaIcon @icon="arrow-left" class="mr-2" />
                Back to Assignment
            </LinkTo>
        </div>
    </div>

    {{!-- Form Content --}}
    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <AssignmentForm 
            @assignment={{this.assignment}}
            @students={{this.model.students}}
            @routes={{this.model.routes}}
            @schools={{this.model.schools}}
            @statusOptions={{this.model.statusOptions}}
            @typeOptions={{this.model.typeOptions}}
            @onSave={{this.saveAssignment}}
            @onCancel={{this.cancelEdit}}
            @isLoading={{this.isLoading}}
            @errors={{this.errors}}
            @mode="edit"
        />
    </div>

    {{!-- Action Buttons --}}
    <div class="flex justify-between mt-6">
        <button 
            class="btn btn-outline"
            {{on "click" this.cancelEdit}}
            disabled={{this.isLoading}}>
            <FaIcon @icon="times" class="mr-2" />
            Cancel
        </button>
        <button 
            class="btn btn-primary"
            {{on "click" this.saveAssignment}}
            disabled={{this.isLoading}}>
            {{#if this.isLoading}}
                <FaIcon @icon="spinner" @spin={{true}} class="mr-2" />
                Saving...
            {{else}}
                <FaIcon @icon="save" class="mr-2" />
                Save Changes
            {{/if}}
        </button>
    </div>
</div>

