<div class="arrival-alerts">
    {{#if this.selectedStudent}}
    <div class="text-sm text-gray-600 mb-3">Upcoming stops and estimated arrival times for {{this.selectedStudent.name}}
    </div>

    {{#if this.upcomingStops.length}}
    <ul class="space-y-2">
        {{#each this.upcomingStops as |stop|}}
        <li class="p-3 border rounded flex items-center justify-between bg-white">
            <div>
                <div class="font-medium">{{stop.name}}</div>
                <div class="text-xs text-gray-500">{{stop.address}}</div>
            </div>
            <div class="text-right">
                <div class="text-sm text-gray-700">{{this.formatETA stop.eta}}</div>
                <div class="text-xs text-gray-500">{{this.formatETAWithDistance stop.distance}}</div>
            </div>
        </li>
        {{/each}}
    </ul>
    {{else}}
    <div class="px-3 py-6 text-center text-gray-500 bg-gray-50 rounded">No upcoming stops detected</div>
    {{/if}}

    <div class="mt-3 flex items-center justify-end space-x-2">
        <Button @type={{if this.isSubscribed 'default' 'primary' }} @text={{if
            this.isSubscribed "Unsubscribe" "Subscribe" }} @onClick={{this.toggleSubscription}} />
    </div>
    {{else}}
    <div class="text-sm text-gray-500">Select a student to view upcoming arrival times</div>
    {{/if}}
</div>